<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MrCheap Shop Dashboard - Tanzania</title>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
   <link rel="stylesheet" href="css/style.css">
   </head>
<body>
    <!-- Toggle Button (Mobile Only) -->
    <button class="toggle-sidebar" id="toggleSidebar">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Sidebar Navigation -->
    <nav class="sidebar" id="sidebar">
        <div class="logo">
            <i class="fas fa-store"></i>
            <h2>MrCheap</h2>
        </div>
        
        <div class="nav-menu">
            <a href="#" class="nav-item active">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard</span>
            </a>
            <a href="#" class="nav-item" id="inventoryBtn">
                <i class="fas fa-boxes"></i>
                <span>Inventory</span>
            </a>
            <a href="#" class="nav-item" id="addProductNavBtn">
                <i class="fas fa-plus-circle"></i>
                <span>Add Product</span>
            </a>
            <a href="#" class="nav-item" id="purchaseNavBtn">
                <i class="fas fa-shopping-cart"></i>
                <span>Make Purchase</span>
            </a>
            <a href="#" class="nav-item" id="salesNavBtn">
                <i class="fas fa-cash-register"></i>
                <span>Sales</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-chart-bar"></i>
                <span>Reports</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>
        </div>
        
        <div class="logout">
            <button class="logout-btn" id="logoutBtn">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <div class="header">
            <div>
                <h1>MrCheap Shop Dashboard <span style="color: var(--accent);">TZS</span></h1>
                <p style="color: var(--gray); margin-top: 5px;">Dar es Salaam, Tanzania | Today: <span id="currentDate"></span></p>
            </div>
            <div class="user-info">
                <div class="user-avatar">A</div>
                <div>
                    <h4 style="margin-bottom: 3px;">Shop Manager</h4>
                    <p style="color: var(--gray); font-size: 0.9rem;">mrcheap@shop.co.tz</p>
                </div>
            </div>
        </div>

        <!-- Quick Actions -->
        <div class="quick-actions">
            <div class="action-card add-product" id="quickAddProduct">
                <div class="action-icon">
                    <i class="fas fa-plus"></i>
                </div>
                <div class="action-info">
                    <h3>Add Product</h3>
                    <p>Add new item to inventory</p>
                </div>
            </div>
            
            <div class="action-card make-purchase" id="quickPurchase">
                <div class="action-icon">
                    <i class="fas fa-cart-plus"></i>
                </div>
                <div class="action-info">
                    <h3>Make Purchase</h3>
                    <p>Buy stock from supplier</p>
                </div>
            </div>
            
            <div class="action-card today-sales">
                <div class="action-icon">
                    <i class="fas fa-dollar-sign"></i>
                </div>
                <div class="action-info">
                    <h3>Today Sales</h3>
                    <p>TZS 0 | 0 items sold</p>
                </div>
            </div>
        </div>

        <!-- Inventory Summary -->
        <div class="dashboard-section">
            <div class="section-header">
                <h2>Inventory Summary</h2>
                <button class="btn btn-primary" id="viewInventoryBtn">View All</button>
            </div>
            <div class="empty-state">
                <i class="fas fa-boxes"></i>
                <h3>No products in inventory</h3>
                <p>Add products to get started</p>
            </div>
        </div>

        <!-- Low Stock Alert -->
        <div class="dashboard-section">
            <div class="section-header">
                <h2><i class="fas fa-exclamation-triangle" style="color: var(--warning); margin-right: 10px;"></i> Low Stock Alert</h2>
                <span class="btn btn-secondary">No Alerts</span>
            </div>
            <div class="empty-state">
                <i class="fas fa-check-circle" style="color: var(--success);"></i>
                <h3>All items are in stock</h3>
                <p>Set minimum stock levels to receive alerts</p>
            </div>
        </div>

        <!-- Today's Summary -->
        <div class="dashboard-section" style="background: linear-gradient(135deg, #e8f5e9 0%, #f1f8e9 100%);">
            <h3><i class="fas fa-chart-line" style="color: var(--primary); margin-right: 10px;"></i> Today's Summary</h3>
            <div class="form-row" style="margin-top: 20px;">
                <div style="text-align: center;">
                    <h1 style="color: var(--primary); font-size: 2.5rem;">TZS 0</h1>
                    <p style="color: var(--gray);">Total Sales</p>
                </div>
                <div style="text-align: center;">
                    <h1 style="color: var(--accent); font-size: 2.5rem;">0</h1>
                    <p style="color: var(--gray);">Items Sold</p>
                </div>
            </div>
        </div>
    </main>

    <!-- ===== MODALS ===== -->

    <!-- Add Product Modal -->
    <div class="modal" id="addProductModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-plus-circle" style="color: var(--primary); margin-right: 10px;"></i> Add New Product</h2>
                <button class="close-modal" id="closeProductModal">&times;</button>
            </div>
            
            <form id="productForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="productName" class="required">Product Name</label>
                        <input type="text" id="productName" class="form-control" placeholder="e.g., Coca Cola 500ml" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="productCode" class="required">Product Code</label>
                        <input type="text" id="productCode" class="form-control" placeholder="e.g., COKE-500" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="buyingPrice" class="required">Buying Price (TZS)</label>
                        <div class="input-with-icon">
                            <span class="currency">TZS</span>
                            <input type="number" id="buyingPrice" class="form-control" placeholder="0" required min="0">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="sellingPrice" class="required">Selling Price (TZS)</label>
                        <div class="input-with-icon">
                            <span class="currency">TZS</span>
                            <input type="number" id="sellingPrice" class="form-control" placeholder="0" required min="0">
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="initialStock" class="required">Initial Stock</label>
                        <input type="number" id="initialStock" class="form-control" placeholder="0" required min="0">
                    </div>
                    
                    <div class="form-group">
                        <label for="minStock" class="required">Minimum Stock Alert</label>
                        <input type="number" id="minStock" class="form-control" placeholder="e.g., 10" required min="1">
                        <small style="color: var(--gray);">Get alert when stock goes below this</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="productCategory">Category</label>
                    <div class="category-management">
                        <select id="productCategory" class="form-control" style="flex: 1;">
                            <option value="">Select category</option>
                            <option value="drinks">Drinks</option>
                            <option value="snacks">Snacks</option>
                            <option value="groceries">Groceries</option>
                            <option value="household">Household</option>
                            <option value="electronics">Electronics</option>
                        </select>
                        <input type="text" id="newCategory" class="form-control" placeholder="New category" style="flex: 1;">
                        <button type="button" class="btn btn-secondary btn-sm" id="addCategoryBtn">Add</button>
                    </div>
                    
                    <div class="category-tags" id="categoryTags">
                        <!-- Categories will appear here -->
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="productDescription">Description (Optional)</label>
                    <textarea id="productDescription" class="form-control" rows="3" placeholder="Product details, brand, etc."></textarea>
                </div>
                
                <div class="btn-group">
                    <button type="submit" class="btn btn-primary" style="flex: 2;">Add Product</button>
                    <button type="button" class="btn btn-secondary" id="cancelProduct">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Make Purchase Modal -->
    <div class="modal" id="purchaseModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-cart-plus" style="color: var(--accent); margin-right: 10px;"></i> Make Purchase (Buy Stock)</h2>
                <button class="close-modal" id="closePurchaseModal">&times;</button>
            </div>
            
            <form id="purchaseForm">
                <div class="form-group">
                    <label for="supplierName" class="required">Supplier Name</label>
                    <input type="text" id="supplierName" class="form-control" placeholder="e.g., Coca Cola Distributor" required>
                </div>
                
                <div class="form-group">
                    <label for="selectProduct" class="required">Select Product</label>
                    <select id="selectProduct" class="form-control" required>
                        <option value="">Choose product</option>
                        <!-- Products will be loaded here -->
                    </select>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="purchaseQuantity" class="required">Quantity</label>
                        <input type="number" id="purchaseQuantity" class="form-control" placeholder="0" required min="1">
                    </div>
                    
                    <div class="form-group">
                        <label for="purchasePrice" class="required">Price Per Item (TZS)</label>
                        <div class="input-with-icon">
                            <span class="currency">TZS</span>
                            <input type="number" id="purchasePrice" class="form-control" placeholder="0" required min="0">
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="purchaseNotes">Purchase Notes</label>
                    <textarea id="purchaseNotes" class="form-control" rows="2" placeholder="Invoice number, delivery details, etc."></textarea>
                </div>
                
                <div class="stock-alert">
                    <p><i class="fas fa-info-circle" style="color: var(--warning); margin-right: 8px;"></i> <strong>Purchase will increase stock</strong>. This is for buying from suppliers, not selling to customers.</p>
                </div>
                
                <div class="btn-group">
                    <button type="submit" class="btn btn-primary" style="flex: 2;">Record Purchase</button>
                    <button type="button" class="btn btn-secondary" id="cancelPurchase">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Inventory Modal -->
    <div class="modal" id="inventoryModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2><i class="fas fa-boxes" style="color: var(--primary); margin-right: 10px;"></i> Inventory Management</h2>
                <button class="close-modal" id="closeInventoryModal">&times;</button>
            </div>
            
            <table class="inventory-table">
                <thead>
                    <tr>
                        <th>Code</th>
                        <th>Product Name</th>
                        <th>Stock</th>
                        <th>Buying Price</th>
                        <th>Selling Price</th>
                        <th>Category</th>
                    </tr>
                </thead>
                <tbody id="inventoryTableBody">
                    <!-- Inventory items will appear here -->
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 40px; color: var(--gray);">
                            <i class="fas fa-box-open" style="font-size: 2rem; margin-bottom: 10px;"></i>
                            <p>No products in inventory</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            
            <div class="btn-group" style="margin-top: 20px;">
                <button class="btn btn-primary" id="addNewFromInventory">Add New Product</button>
                <button class="btn btn-secondary" id="closeInventoryBtn">Close</button>
            </div>
        </div>
    </div>

<script src="public/js/api.js"></script>
<script src="public/js/ui.js"></script>
<script src="public/js/main.js"></script>
</body>
</html>
